<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>python gist - Archer's Blog</title>
    <link rel="stylesheet" href="/assets/css/font-awesome-4.2.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="/assets/css/theme.css?ver=1.0.36"/>
    <script src="http://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdn.staticfile.org/waypoints/2.0.5/waypoints.min.js" type="text/javascript"></script>
    <script src="../assets/js/archer.js"></script>
    <script type="text/javascript">

        //Html编码获取Html转义实体
        function htmlEncode(value){
            return $('<div/>').text(value).html();
        }

        //Html解码获取Html实体
        function htmlDecode(value){
            return $('<div/>').html(value).text();
        }

        $(document).ready(function(){

            //缓存分类文章列表
            var catposts = [];

            //首次载入便缓存下来
            if("" != '首页'){

                $.getJSON("../allposts.json", function (data) {
                    $.each(data, function (i, item) {
                        if(item.cat == ""){
                        catposts.push(item);
                        }
                    });

                    //添加
                    $.each(catposts,function(j,item){
                        var content = "";
                        if(j < 0){
                            //alert(j);
                            var excerpt = " + item.excerpt + ";
                            content += "<div class='blogbody__everyblog'>";
                            content += "<div class='blogbody__everyblog__header'>";
                            content += "<a href='" + item.url + "'>" + item.title + "</a>";
                            content += "</div>";
                            content += "<div class='blogbody__everyblog__meta'>";
                            content += "<span class='blogbody__everyblog__metainfo'>" + item.date + "</span>";
                            content += "</div>";
                            content += "<div class='blogcontent blogbody__everyblog__excerpt'>";
                            content += htmlDecode(item.excerpt);
                            content += "</div>";
                            content += "</div>";
                            $('.loadingmore').before(content);
                        }
                    });
                });
            }

            //nav waypoints
            $('.blog__nav').waypoint(function(direction){
                if(direction == "down"){
                    $('.blog__nav').addClass("fixedposition");
                }
                else if(direction == "up"){
                    $('.blog__nav').removeClass("fixedposition");
                }
            });

            //内页目录waypoints
            $('.single__sidebar').waypoint(function(direction){
                if(direction == "down"){
                    $('.single__sidebar').addClass("single--sidebar--fix");
                }
                else if(direction == "up"){
                    $('.single__sidebar').removeClass("single--sidebar--fix");
                }
            });

            var totalsize = 0;

            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            

            if(totalsize > 0){

                var bloglists = $('.bloglists');
                var count = 0; //一开始的文章数目
                var looptimes = 0; //计数器top

                $('.loadingmore').click(function () {

                    $('.loadingmore').html("<span class='loadingmorespan'>正在加载...</span>");

                    $.getJSON("../allposts.json", function (data) {

                        var content = "";
                        looptimes = count + 0; //初始化
                        var j = 0; //采集loop了多少次

                        if("" == '首页'){
                            $.each(data, function (i, item) {
                                if (i >= count & i < looptimes) {
                                    var excerpt = " + item.excerpt + ";
                                    content += "<div class='blogbody__everyblog'>";
                                    content += "<div class='blogbody__everyblog__header'>";
                                    content += "<a href='" + item.url + "'>" + item.title + "</a>";
                                    content += "</div>";
                                    content += "<div class='blogbody__everyblog__meta'>";
                                    content += "<span class='blogbody__everyblog__metainfo'>" + item.date + "</span>";
                                    content += "</div>";
                                    content += "<div class='blogcontent blogbody__everyblog__excerpt'>";
                                    content += htmlDecode(item.excerpt);
                                    content += "</div>";
                                    content += "</div>";
                                    j++;
                                }
                            });

                            count += j; //现在的文章数目
                            $('.loadingmore').before(content);
                            $('.loadingmore').html("<span class='loadingmorespan'>点击加载更多...</span>");
                            if (count == data.length) {
                                $('.loadingmore').html("<span class='loadingmorespan'>没有更多了...</span>").hide();
                            }

                        }
                        else{
                            $.each(catposts, function (i, item) {
                                if (i >= count & i < looptimes) {
                                    var excerpt = " + item.excerpt + ";
                                    content += "<div class='blogbody__everyblog'>";
                                    content += "<div class='blogbody__everyblog__header'>";
                                    content += "<a href='" + item.url + "'>" + item.title + "</a>";
                                    content += "</div>";
                                    content += "<div class='blogbody__everyblog__meta'>";
                                    content += "<span class='blogbody__everyblog__metainfo'>" + item.date + "</span>";
                                    content += "</div>";
                                    content += "<div class='blogcontent blogbody__everyblog__excerpt'>";
                                    content += htmlDecode(item.excerpt);
                                    content += "</div>";
                                    content += "</div>";
                                    j++;
                                }
                            });

                            count += j; //现在的文章数目
                            $('.loadingmore').before(content);
                            $('.loadingmore').html("<span class='loadingmorespan'>点击加载更多...</span>");
                            if (count == catposts.length) {
                                $('.loadingmore').html("<span class='loadingmorespan'>没有更多了...</span>").hide();
                            }
                        }
                    });
                });
            }

            //如果totalsize<=初始值则不显示
            else{
                //否则不显示翻页
                $('.loadingmore').css('display', 'none');
            }
        });
    </script>

</head>
<header id="blog__header">
    <div class="blog__bighead">
        <!-- blog title & description -->
        <div class="blog__titlearea">
            <h1 class="blogtitle title--blogtitle">THANK YOU</h1>
            <h2 class="blogtitle title--blogdescription">Reading is powerful and useful.</h2>
        </div>
    </div>

    <!-- blog nav -->
    <div class="blog__nav">
        <ul class="blog__nav__ul">
            <li class="blog__nav__item nav__current"><a href="/">HOME</a></li>
            <li class="blog__nav__item"><a href="/blogs/">BLOGS</a></li>
            <li class="blog__nav__item"><a href="/projects/">PROJECTS</a></li>
            <li class="blog__nav__item"><a href="/experiments/">EXPERIMENTS</a></li>
            <li class="blog__nav__item"><a href="/tools/">TOOLS</a></li>
        </ul>
    </div>

</header>
<body>

<!-- github ribbon -->
<a href="https://github.com/qddegtya/qddegtya.github.io" target="_blank"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/8b6b8ccc6da3aa5722903da7b58eb5ab1081adee/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png"></a>
<section id="blogbody">
    <div class="clearleft bloglooparea">
        <div class="bloglists">
            <div class="blogbody__everyblog">
                <div class="blogbody__everyblog__header">
                    <a href="/%E5%AE%9E%E9%AA%8C/2014/10/14/python%20gist/">python gist</a>
                </div>
                <div class="blogbody__everyblog__meta">
                    <span class="blogbody__everyblog__metainfo">2014 - 10 - 14</span>
                </div>
                <div class="blogcontent blogbody__everyblog__excerpt">
                    <p>fdsafdasfdasdsafa</p>

<h3 id="section">代码片段</h3>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="lineno"> 1</span> <span class="kn">import</span> <span class="nn">urllib</span>
<span class="lineno"> 2</span> <span class="kn">import</span> <span class="nn">urllib2</span>
<span class="lineno"> 3</span> <span class="kn">import</span> <span class="nn">re</span>
<span class="lineno"> 4</span> <span class="kn">import</span> <span class="nn">time</span>
<span class="lineno"> 5</span> 
<span class="lineno"> 6</span> <span class="k">def</span> <span class="nf">grabSubdomain</span><span class="p">(</span><span class="n">popurl</span><span class="p">):</span>
<span class="lineno"> 7</span>     <span class="c">#deal the popurl</span>
<span class="lineno"> 8</span>     <span class="n">popurl</span> <span class="o">=</span> <span class="n">popurl</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="lineno"> 9</span>     <span class="k">if</span> <span class="p">(</span><span class="n">popurl</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;http:&#39;</span><span class="p">):</span>
<span class="lineno">10</span>         <span class="n">popurl</span><span class="o">=</span><span class="n">popurl</span><span class="p">[</span><span class="mi">7</span><span class="p">:]</span>     <span class="c">#get right URL</span>
<span class="lineno">11</span>     <span class="n">numT</span> <span class="o">=</span> <span class="n">popurl</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span>
<span class="lineno">12</span>     <span class="k">if</span> <span class="p">(</span><span class="n">numT</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
<span class="lineno">13</span>         <span class="n">popurl</span><span class="o">=</span><span class="n">popurl</span><span class="p">[:</span><span class="n">numT</span><span class="p">]</span>
<span class="lineno">14</span>     <span class="n">numDot</span> <span class="o">=</span> <span class="n">popurl</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span>
<span class="lineno">15</span>     <span class="n">popurl</span><span class="o">=</span><span class="n">popurl</span><span class="p">[</span><span class="n">numDot</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
<span class="lineno">16</span>  
<span class="lineno">17</span>  
<span class="lineno">18</span> <span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
<span class="lineno">19</span>     <span class="k">print</span> <span class="s">&#39;Start grab subdomain from i.links.cn...&#39;</span></code></pre></div>

<p>fdasfdasfadsfdasfsadsa
fdasfdasfdsafdsaf
dsafdsafdsafasdfdsa
fdsafadssa</p>

<h3 id="section-1">测试一下</h3>

                </div>
                <div class="blogbody__everyblog__footer">
                    <div class="footercopyright">
                        <span>警告! 转载时请注明本文出处:</span>
                        <span class="blogperlink">http://qddegtya.github.io/%E5%AE%9E%E9%AA%8C/2014/10/14/python%20gist/</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="blogsidebar single__sidebar">

    <div class="sidebar_item sidebar--catcontent">
        <h3 class="sidebar__title"><i class="fa fa-list-ol fa-lg"></i></h3>
        <ul class="sidebar__ul">
            <li><a href="#">目录 一</a></li>
         </ul>
    </div>

</div>
    </div>
</section>
<footer id="blogfooter">
    <div class="clearboth blogfooter">
    </div>
</footer>
</body>
</html>